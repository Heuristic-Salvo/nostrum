<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Nostrum v0.7.0-rc1">

    <title>State — Nostrum v0.7.0-rc1</title>
    <link rel="stylesheet" href="dist/html-elixir-HHVY3JYD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-XWGFFSCD.js"></script>
    <script src="dist/sidebar_items-9773C1CF.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-JDI3AVDD.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="https://github.com/Kraigie/nostrum" class="sidebar-projectName" translate="no">
Nostrum
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v0.7.0-rc1
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


        <li><a id="tasks-list-link" href="#full-list"><span translate="no">Mix</span> Tasks</a></li>

    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/Kraigie/nostrum/blob/master/guides/State.md#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>


  <span>State</span>
</h1>

<p>Nostrum keeps track of the state that your bot can see. This state is updated
based on events from the WS connection. Most of the cache modules support only
simple interactions with the cache. Feel free to suggest additional functionality.</p><h2 id="pluggable-caches" class="section-heading">
  <a href="#pluggable-caches" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">pluggable-caches</p>
  </a>
  Pluggable caches
</h2>
<p>The default caches supplied by nostrum should work for most of your needs, but
all of the caches can be exchanged for your own implementations. For this,
implement the behaviours exported by the cache modules under <code class="inline">Nostrum.Cache</code>.</p><p>Use the <code class="inline">[:nostrum, :caches]</code> configuration for configuring which cache
implementation you want to use. This can only be set at dependency compilation
time. A common situation is that you don't want to cache presences in your bot,
most likely you don't care about user's status, so you can disable it altogether
by using the <code class="inline">NoOp</code> presence cache:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:nostrum</span><span class="p">,</span><span class="w">
  </span><span class="ss">caches</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4682563899-1">%{</span><span class="w">
    </span><span class="ss">presences</span><span class="p">:</span><span class="w"> </span><span class="nc">Nostrum.Cache.PresenceCache.NoOp</span><span class="w">
  </span><span class="p" data-group-id="4682563899-1">}</span></code></pre><h2 id="structs" class="section-heading">
  <a href="#structs" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">structs</p>
  </a>
  Structs
</h2>
<p>Nostrum uses structs when appropriate to pass around objects from Discord.</p><p>In some cases, the struct modules will include helper functions for interacting
with the struct. See <a href="Nostrum.Struct.Emoji.html#image_url/1"><code class="inline">Nostrum.Struct.Emoji.image_url/1</code></a> for an example.</p><h2 id="guilds" class="section-heading">
  <a href="#guilds" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">guilds</p>
  </a>
  Guilds
</h2>
<p>By default, guilds are cached in an ETS table, keyed off their ID. You can
obtain the table name of the backing ETS table using the <code class="inline">tabname</code> function
exported by the <a href="Nostrum.Cache.GuildCache.ETS.html"><code class="inline">Nostrum.Cache.GuildCache.ETS</code></a> module.</p><p>If you do not have the <code class="inline">:guilds</code> intent enabled, it is recommended to use the <code class="inline">NoOp</code>
cache for guilds.</p><p>Please see <a href="Nostrum.Cache.GuildCache.html"><code class="inline">Nostrum.Cache.GuildCache</code></a> for more information on interacting with
guilds.</p><h2 id="channels" class="section-heading">
  <a href="#channels" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">channels</p>
  </a>
  Channels
</h2>
<p>By default, DM channels are stored in an ETS table, see
<a href="Nostrum.Cache.ChannelCache.ETS.html"><code class="inline">Nostrum.Cache.ChannelCache.ETS</code></a>. Guild channels are stored in their respective
guilds.</p><h2 id="users" class="section-heading">
  <a href="#users" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">users</p>
  </a>
  Users
</h2>
<p>By default, users are all stored in an ETS table, keyed off of their id.</p><p>To see the name of the ETS table associated with the user cache, and examples of
interacting with it both directly and through the provided abstractions, please
see <a href="Nostrum.Cache.UserCache.ETS.html"><code class="inline">Nostrum.Cache.UserCache.ETS</code></a>.</p><h2 id="mappings" class="section-heading">
  <a href="#mappings" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">mappings</p>
  </a>
  Mappings
</h2>
<p>There are some use cases where given a <code class="inline">channel_id</code> or <code class="inline">guild_id</code> we may want to
find the <code class="inline">guild</code> or <code class="inline">shard</code> that the <code class="inline">id</code> belongs to. For this purpose Nostrum
stores these types of relations in ETS tables.</p><p>The following mappings exists.</p><pre><code class="makeup elixir" translate="no"><span class="n">guild_channel_id</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">guild_id</span><span class="w">
</span><span class="n">guild_id</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">shard_num</span></code></pre><p>Please see <a href="Nostrum.Cache.Mapping.ChannelGuild.html"><code class="inline">Nostrum.Cache.Mapping.ChannelGuild</code></a> for one such map.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="application-commands.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Application commands
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="events.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Events
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

            <span class="line">
              <a href="https://hex.pm/packages/nostrum/0.7.0-rc1" class="footer-hex-package">Hex Package</a>

              <a href="https://preview.hex.pm/preview/nostrum/0.7.0-rc1">Hex Preview</a>

                (<a href="https://preview.hex.pm/preview/nostrum/0.7.0-rc1/show/guides/State.md">current file</a>)

            </span>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="Nostrum.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
